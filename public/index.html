<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no" />
<title>ZGC Proxy</title>

<link rel="shortcut icon" href="favicon.webp" />
<link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet" />
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">

<!-- Proxy Scripts -->
<script src="/scram/scramjet.all.js"></script>
<script src="baremux/index.js" defer></script>
<script src="epoxy/index.js" defer></script>
<script src="register-sw.js" defer></script>
<script src="search.js" defer></script>
<script src="index.js" defer></script>

<style>
:root {
  --page-bg: linear-gradient(135deg, #020617 0%, #00162a 100%);
  --main-bg: rgba(255, 255, 255, 0.05);
  --text-color: #ffffff;
  --page-border-color: rgba(255, 255, 255, 0.2);
}

html, body {
  margin: 0;
  height: 100%;
  width: 100%;
  overflow: hidden;
  font-family: Roboto, sans-serif;
  background: var(--page-bg);
  color: var(--text-color);
}

/* Particles background */
#particles-js {
  position: fixed;
  top: 0; left: 0;
  width: 100%; height: 100%;
  z-index: 0;
}

/* Main container */
.main {
  height: 100vh;
  width: 100vw;
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  letter-spacing: 0.5px;
  z-index: 1;
}

/* Centered proxy panel */
#main-page-content {
  background: var(--main-bg);
  border: 2px solid var(--page-border-color);
  border-radius: 8px;
  padding: 30px 50px;
  width: 60%;
  max-width: 600px;
  text-align: center;
  box-shadow: 0 0 20px rgba(0,0,0,0.3);
  backdrop-filter: blur(8px);
}

/* Title */
.main-title {
  color: var(--text-color);
  font-size: 32px;
  margin-bottom: 10px;
  background: linear-gradient(90deg,#00bfff,#1e90ff);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
}

/* Description */
.main-desc {
  font-size: 16px;
  color: rgba(255,255,255,0.7);
  margin-bottom: 25px;
}

/* Input */
#sj-address {
  width: 100%;
  padding: 12px 14px;
  background: none;
  border: 2px solid var(--text-color);
  border-radius: 4px;
  color: var(--text-color);
  outline: none;
  font-size: 15px;
  transition: 0.25s ease;
}

#sj-address::placeholder {
  color: rgba(255,255,255,0.6);
}

#sj-address:focus, #sj-address:hover {
  background: rgba(255,255,255,0.1);
}

#sj-error {
  color: #ff6b6b;
  font-size: 0.9rem;
  margin-top: 12px;
}

footer {
  position: absolute;
  bottom: 10px;
  text-align: center;
  font-size: 0.85rem;
  color: rgba(255,255,255,0.5);
  width: 100%;
}
</style>
</head>

<body>
<div id="particles-js"></div>

<div class="main">
  <div id="main-page-content">
    <h1 class="main-title">ZGC Proxy</h1>
    <p class="main-desc">Browse the internet freely. Powered by Scramjet</p>

    <form id="sj-form">
      <input id="sj-search-engine" value="https://www.google.com/search?q=%s" type="hidden" />
      <input id="sj-address" type="text" placeholder="Search the web freely" autocomplete="off" />
    </form>

    <p id="sj-error"></p>
    <pre id="sj-error-code"></pre>
  </div>
</div>

<footer>
  <div><span>ZGC Proxy &copy; 2025</span></div>
</footer>

<!-- Particles -->
<script src="https://cdn.jsdelivr.net/npm/particles.js@2.0.0/particles.min.js"></script>
<script>
document.addEventListener("DOMContentLoaded", () => {
  particlesJS("particles-js", {
    particles: {
      number: { value: 70, density: { enable: true, value_area: 800 } },
      color: { value: "#00bfff" },
      shape: { type: "circle" },
      opacity: { value: 0.5, random: true },
      size: { value: 3, random: true },
      line_linked: { enable: true, distance: 150, color: "#00bfff", opacity: 0.3, width: 1 },
      move: { enable: true, speed: 2, random: true, straight: false, out_mode: "out" }
    },
    interactivity: {
      detect_on: "canvas",
      events: { onhover: { enable: true, mode: "repulse" }, onclick: { enable: true, mode: "push" } },
      modes: { repulse: { distance: 100 }, push: { particles_nb: 4 } }
    },
    retina_detect: true
  });

  // ✅ Ensure Enter key triggers Scramjet’s handler
  const input = document.getElementById("sj-address");
  const form = document.getElementById("sj-form");
  input.addEventListener("keydown", e => {
    if (e.key === "Enter") {
      e.preventDefault();
      form.dispatchEvent(new Event("submit", { cancelable: true, bubbles: true }));
    }
  });
});
</script>
</body>
</html>
